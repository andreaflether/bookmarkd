<div class="col-md-7 text-center">
  <h2 class="text-brand">
    <%= @folder.name %> 
  </h2>
</div>
  
<div class="w-100"></div>

<div class="col-md-5 text-center">
  <% if @folder.description.present? %>
    <small class="text-white-50"><%= @folder.description %></small>
  <% end %>
  <div class="mt-2 d-flex justify-content-center align-items-center">
    <p class="mb-0">by 
      <span class="font-weight-bold">
        <%= current_user.provider.blank? ? current_user.name : current_user.username %>
      </span>
    </p> 
    <div class="dropdown">
      <button class="btn btn-transparent btn-lg text-white-50" 
        type="button" 
        id="folder-actions" 
        data-toggle="dropdown" 
        aria-haspopup="true" 
        aria-expanded="false"
      >
        <i class="fas fa-ellipsis-h 2x"></i>
      </button>

      <div class="dropdown-menu no-shadow" aria-labelledby="folder-actions">
        <%= link_to edit_folder_path(@folder), class: 'dropdown-item text-primary' do %> 
          <i class="fas fa-pencil-alt"></i> &nbsp; Edit folder info
        <% end %>
        <%= link_to folder_path(@folder), 
          method: :delete, 
          class: 'dropdown-item text-danger',
          title: "Delete folder: #{@folder.name}",
          data: { 
            confirm: t('delete_folder_confirmation', tweet_count: pluralize(@folder.tweets.count, 'tweet'))
          } do %>
          <i class="fas fa-trash-alt"></i> &nbsp; Delete folder
        <% end %>
      </div>
    </div> 
  </div>
</div>

<div class="w-100"></div>

<div class="col-md-7 mt-3">
  <%= simple_form_for @folder, remote: true do |f| %>
    <%= f.simple_fields_for :bookmarks, @folder.bookmarks.build do |t| %>
      <%= t.simple_fields_for :tweet, Tweet.new do |tt| %>
        <% tt.input :link, 
          label: false,
          wrapper: :input_group do %>
          <%= tt.input :link, 
            label: false, 
            wrapper: false, 
            input_html: { 
              id: 'tweetUrl',
              placeholder: 'Enter Tweet URL here'
            } %>
        <div class="input-group-append">   
          <%= f.button :submit, 'Add', class: 'btn btn-brand' %>
        </div>
      <% end %>
      <% end %>
    <% end %>
  <% end %>
</div>

<div class="w-100"></div>
  
<div class="col-md-12 text-center mt-3 mb-0">
  <span class="badge badge-pill badge-brand">
    <h6 class="mb-0 p-1" id="tweetsCount">
      <%= pluralize(@folder.tweets.count, 'tweet') %>  
    </h6>
  </span>
</div>

<div class="col-md-7 text-center mt-2" id="tweets-container">
  <% if @tweets.blank? %>
    <h5 class="text-center text-brand font-weight-normal mt-2" id="no-tweets">
      This folder is empty. Add tweets to see them here!
    </h5>
  <% else %>
    <%= render @tweets %>
    <div class="w-100"></div>

    <div id="paginate-load-more-button">
      <%= will_paginate @tweets %>
    </div>

    <% if @tweets.next_page %>
      <div id='load-more-tweets' class='btn btn-primary'>Load more tweets</div>
    <% end %>
  <% end %>
</div>

  <%= link_to '#', class: "btn btn-primary back-to-top-button invisible" do %>
      <i class="fas fa-arrow-up"></i>
  <% end %>